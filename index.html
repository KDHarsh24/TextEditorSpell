<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SpellChecker using Trie Skipping</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script>
      class TrieNode {
        constructor() {
          this.children = {};
          this.isEnd = false;
        }
      }
    
      class Trie {
        constructor() {
          this.root = new TrieNode();
        }
    
        insert(word) {
          let node = this.root;
          for (let char of word) {
            if (!node.children[char]) node.children[char] = new TrieNode();
            node = node.children[char];
          }
          node.isEnd = true;
        }
    
        traverse(word) {
          const container = document.getElementById('trie-container');
          container.innerHTML = '';
          let node = this.root;
          const path = [];
    
          for (let i = 0; i < word.length; i++) {
            const char = word[i];
            const div = document.createElement('div');
            div.classList.add('node');
            div.textContent = char;
    
            if (node.children[char]) {
              div.classList.add('visited');
              node = node.children[char];
              path.push(char);
            } else {
              div.classList.add('failed');
              break;
            }
            container.appendChild(div);
          }
    
          return { found: node.isEnd, lastNode: node, prefix: path.join("") };
        }
    
        suggest(node, prefix, suggestions) {
          if (node.isEnd) suggestions.push(prefix);
          for (let char in node.children) {
            this.suggest(node.children[char], prefix + char, suggestions);
          }
        }
    
        getSuggestions(prefix) {
          let node = this.root;
          for (let char of prefix) {
            if (!node.children[char]) return [];
            node = node.children[char];
          }
          let result = [];
          this.suggest(node, prefix, result);
          return result;
        }
      }
    
      const trie = new Trie();
      const dictionary = ["help", "heap", "halt", "hello", "hero", "her", "heal", "hell"];
      dictionary.forEach(word => trie.insert(word));
    
      function checkWord() {
        const word = document.getElementById("inputWord").value.trim().toLowerCase();
        const { found, lastNode, prefix } = trie.traverse(word);
    
        const suggestions = trie.getSuggestions(prefix);
        const suggestionList = document.getElementById("suggestionList");
        suggestionList.innerHTML = found
          ? `<span style="color:green">✅ "${word}" is correct!</span>`
          : suggestions.length > 0
            ? `<ul>${suggestions.map(w => `<li>${w}</li>`).join('')}</ul>`
            : `<span style="color:red">❌ No suggestions found</span>`;
      }
    </script>
  </body>
</html>
